"use strict";var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}(function(a){function b(){switch(f){case e.BROWSER:this.requestAdapter=c.bind(this);break;case e.NODE:this.nodeAdapters={http:require("http"),https:require("https")},this.requestAdapter=d.bind(this);break;default:throw new Error("Unsupported environment");}}function c(a,b,c,d){return new Promise(function(e,f){var g=new XMLHttpRequest;g.open(a,b,!0),Object.entries(d).forEach(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return g.setRequestHeader(c,d)}),g.onload=function(){200<=this.status&&400>this.status?e({status:this.status,statusText:this.statusText,headers:_extends({},this.getAllResponseHeaders().trim().split(/[\r\n]+/).map(function(a){var b=a.split(": ");return _defineProperty({},b[0],b[1])})),text:this.response,get json(){return JSON.parse(this.text)}}):f(this.status+" "+this.statusText)},g.onerror=function(){f("connection error")},g.send(c)})}function d(a,b,c,d){var e=this;return new Promise(function(f,g){var h=new URL(b),i={host:h.host,path:""+h.pathname+h.search,method:a,headers:d},j=e.nodeAdapters[h.protocol.slice(0,-1)].request(i,function(a){if(200<=a.statusCode&&400>a.statusCode){var b="";a.setEncoding("utf8"),a.on("data",function(a){return b+=a}),a.on("end",function(){return f({status:a.statusCode,statusText:a.statusMessage,headers:a.headers,text:b,get json(){return JSON.parse(b)}})})}else g(a.statusCode+" "+a.statusMessage)});j.on("error",function(a){return g(a)}),c&&j.write(c),j.end()})}var e=Object.freeze({BROWSER:0,NODE:1,UNKNOWN:2}),f="object"===("undefined"==typeof a?"undefined":_typeof(a))&&"object"===_typeof(a.document)?e.BROWSER:"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module&&"object"===_typeof(module.exports)?e.NODE:e.UNKNOWN;b.prototype.request=function(a){var b=a.method,c=void 0===b?"GET":b,d=a.url,e=a.headers,f=void 0===e?{}:e,g=a.params,h=a.data,i=void 0===h?null:h;return d=""+d+(g?"?"+Object.entries(g).map(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return c+"="+d}).join("&"):""),this.requestAdapter(c,d,i,f)},b.prototype.get=function(a,b){return this.request(_extends({},b,{url:a}))},b.prototype.head=function(a,b){return this.request(_extends({},b,{method:"HEAD",url:a}))},b.prototype.post=function(a,b,c){return this.request(_extends({},c,{method:"POST",url:a,data:b}))},b.prototype.put=function(a,b,c){return this.request(_extends({},c,{method:"PUT",url:a,data:b}))},b.prototype.delete=function(a,b){return this.request(_extends({},b,{method:"DELETE",url:a}))},b.prototype.options=function(a,b){return this.request(_extends({},b,{method:"OPTIONS",url:a}))},b.prototype.patch=function(a,b,c){return this.request(_extends({},c,{method:"PATCH",url:a,data:b}))},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module&&"object"===_typeof(module.exports)?module.exports=new b:a.regrest=new b})(void 0);